{"version":3,"sources":["webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/alphabet.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/index.js","webpack:///./src/hero_front.png","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/index.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/random/random-from-seed.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/build.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/generate.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/random/random-byte-browser.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/nanoid/format.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/is-valid.js","webpack:////Users/jstein/Documents/GitHub/functional-game-template/node_modules/shortid/lib/util/cluster-worker-id-browser.js","webpack:///../engine/src/CanvasProvider.js","webpack:///../engine/src/Assets.js","webpack:///../engine/src/index.js","webpack:///./src/Rect.js","webpack:///./src/Hero.js","webpack:///./src/index.js"],"names":["alphabet","previousSeed","shuffled","randomFromSeed","__webpack_require__","ORIGINAL","reset","setCharacters","_alphabet_","length","Error","unique","split","filter","item","ind","arr","lastIndexOf","join","getShuffled","characterIndex","sourceArray","targetArray","r","nextValue","Math","floor","push","splice","shuffle","module","exports","get","characters","seed","lookup","index","build","isValid","clusterWorkerId","generate","seedValue","worker","workerId","newCharacters","undefined","_seed_","counter","previousSeconds","REDUCE_TIME","version","str","seconds","Date","now","random","format","number","done","loopCounter","pow","randomByte","crypto","window","msCrypto","getRandomValues","size","Uint8Array","bytes","i","mask","log","LN2","step","ceil","id","byte","RegExp","replace","test","context","createContext","width","height","canvasElement","document","createElement","setAttribute","body","appendChild","getContext","drawImage","_ref","x","y","asset","drawRect","_ref2","w","h","_ref3","color","fillStyle","fillRect","drawLine","drawPoint","loadedAssets","queue","assets","Promise","all","Object","keys","map","assetName","resolve","reject","source","img","Image","src","onload","onerror","err","gameObjectMap","globalState","defaultGameObjectState","z","pivotX","pivotY","angle","populateGlobalStateByBranch","branchName","gameObjects","shortid","forEach","gameObject","initialState","_objectSpread","CanvasProvider","populateGlobalState","state","root","render","update","console","graphics","hitpoints","max","value","children","Rect","preload","hero","heroAsset","Assets","action","Hero","then","res","icescraper","error"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","'use strict';\nmodule.exports = require('./lib/index');\n","module.exports = \"data:image/png;base64,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\"","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nvar randomByte;\n\nif (!crypto || !crypto.getRandomValues) {\n    randomByte = function(size) {\n        var bytes = [];\n        for (var i = 0; i < size; i++) {\n            bytes.push(Math.floor(Math.random() * 256));\n        }\n        return bytes;\n    };\n} else {\n    randomByte = function(size) {\n        return crypto.getRandomValues(new Uint8Array(size));\n    };\n}\n\nmodule.exports = randomByte;\n","/**\n * Secure random string generator with custom alphabet.\n *\n * Alphabet must contain 256 symbols or less. Otherwise, the generator\n * will not be secure.\n *\n * @param {generator} random The random bytes generator.\n * @param {string} alphabet Symbols to be used in new random string.\n * @param {size} size The number of symbols in new random string.\n *\n * @return {string} Random string.\n *\n * @example\n * const format = require('nanoid/format')\n *\n * function random (size) {\n *   const result = []\n *   for (let i = 0; i < size; i++) {\n *     result.push(randomByte())\n *   }\n *   return result\n * }\n *\n * format(random, \"abcdef\", 5) //=> \"fbaef\"\n *\n * @name format\n * @function\n */\nmodule.exports = function (random, alphabet, size) {\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  var step = Math.ceil(1.6 * mask * size / alphabet.length)\n\n  var id = ''\n  while (true) {\n    var bytes = random(step)\n    for (var i = 0; i < step; i++) {\n      var byte = bytes[i] & mask\n      if (alphabet[byte]) {\n        id += alphabet[byte]\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\n/**\n * @callback generator\n * @param {number} bytes The number of bytes to generate.\n * @return {number[]} Random bytes.\n */\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nmodule.exports = 0;\n","let context = null;\n\nexport function createContext(width, height) {\n  const canvasElement = document.createElement('canvas');\n  canvasElement.setAttribute('width', width);\n  canvasElement.setAttribute('height', height);\n\n  document.body.appendChild(canvasElement);\n\n  context = canvasElement.getContext('2d');\n}\n\nexport const drawImage = ({ x, y }) => (asset) => {\n  context.drawImage(asset, x, y);\n};\n\nexport const drawRect = ({\n  x, y, w, h,\n}) => ({ color }) => {\n  context.fillStyle = color;\n  context.fillRect(x, y, w, h);\n};\n\nexport function drawLine() {}\nexport function drawPoint() {}\n","const loadedAssets = {};\n\nexport const queue = assets => Promise.all(\n  Object.keys(assets).map(\n    assetName => new Promise((resolve, reject) => {\n      const source = assets[assetName];\n\n      const img = new Image();\n      img.src = source;\n\n      img.onload = () => {\n        loadedAssets[assetName] = img;\n        resolve(loadedAssets);\n      };\n\n      img.onerror = (err) => {\n        reject(err);\n      };\n    }),\n  ),\n);\n\nexport const resolve = assetName => loadedAssets[assetName];\n","import shortid from 'shortid';\n\nimport * as CanvasProvider from './CanvasProvider';\n\nexport * as Assets from './Assets';\n\nconst gameObjectMap = {};\nconst globalState = {};\n\nconst defaultGameObjectState = {\n  x: 0,\n  y: 0,\n  z: 0,\n  pivotX: 0,\n  pivotY: 0,\n  angle: 0,\n};\n\nclass GameObjectList {\n  constructor(parent) {\n    this.parent = parent;\n  }\n\n  push() {}\n\n  pop() {}\n}\n\nconst populateGlobalStateByBranch = (branchName, gameObjects) => {\n  gameObjectMap[branchName] = gameObjects.map(() => shortid.generate());\n\n  gameObjects.forEach((gameObject, index) => {\n    const initialState = gameObject.initialState || {};\n    globalState[gameObjectMap[branchName][index]] = {\n      ...defaultGameObjectState,\n      ...initialState,\n    };\n  });\n};\nconst populateGlobalState = (gameObjects) => {\n  populateGlobalStateByBranch('root', gameObjects);\n};\n\nconst countChildren = (gameObjects) => {\n  gameObjects.forEach((gameObject) => {\n    // if (Array.isArray(gameObject.children) && gameObject.children.length > 0) {\n    // }\n  });\n};\n\nconst dispatch = () => {};\ndispatch.toChildren = () => {};\n\nexport default function (width, height, gameObjects) {\n  CanvasProvider.createContext(width, height);\n\n  populateGlobalState(gameObjects);\n\n  // TODO: Walk through gameobject map rather than passed in game objects\n  gameObjects.forEach((gameObject, index) => {\n    const state = globalState[gameObjectMap.root[index]];\n\n    // TODO: Collect preload functions\n\n    if (gameObject.render) {\n      gameObject.render(state)(CanvasProvider);\n    }\n\n    if (gameObject.update) {\n      gameObject.update(state)();\n    }\n\n    // Detect changes to children and update state and map\n  });\n\n  console.log(gameObjectMap);\n  console.log(globalState);\n}\n","export const initialState = {\n  x: 100,\n  y: 100,\n  w: 100,\n  h: 100,\n};\n\nexport const render = state => (graphics) => {\n  graphics.drawRect(state)({ color: 'yellow' });\n};\n","import { Assets } from 'engine';\nimport hero from './hero_front.png';\n\nimport * as Rect from './Rect';\n\nexport const initialState = {\n  x: 20,\n  y: 20,\n  hitpoints: {\n    max: 100,\n    value: 50,\n  },\n};\n\nexport const children = [Rect];\n\nexport const preload = () => ({\n  hero,\n});\n\nexport const render = state => (graphics) => {\n  const heroAsset = Assets.resolve('hero');\n\n  graphics.drawImage(state)(heroAsset);\n\n  graphics.drawRect({\n    x: state.x,\n    y: state.y - 20,\n    w: heroAsset.width,\n    h: 5,\n  })({ color: 'red' });\n\n  graphics.drawRect({\n    x: state.x,\n    y: state.y - 20,\n    w: (state.hitpoints.value / state.hitpoints.max) * heroAsset.width,\n    h: 5,\n  })({ color: 'green' });\n};\n\nexport const update = state => (action) => {};\n","import icescraper, { Assets } from 'engine';\n\nimport * as Hero from './Hero';\n\nAssets.queue(Hero.preload())\n  .then((res) => {\n    icescraper(800, 600, [Hero]);\n  })\n  .catch(err => console.error(err));\n"],"sourceRoot":""}